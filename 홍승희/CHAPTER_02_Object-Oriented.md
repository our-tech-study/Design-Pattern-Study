## Chapter2. κ°μ²΄ μ§€ν–¥ - κ°μ²΄(Object) 

2. κ°μ²΄(Object)  
2-1. κ°μ²΄μ ν•µμ‹¬μ€ κΈ°λ¥μ„ μ κ³µν•λ” κ²ƒ  
2-2. μΈν„°νμ΄μ¤μ™€ ν΄λμ¤   
2-3. λ©”μ‹μ§€   

</br>

> 1. κ°λ… μ •λ¦¬ 
> - κ°μ²΄λ” κΈ°λ¥μ„ μ κ³µ
> - κΈ°λ¥ = `[1] μ¤νΌλ μ΄μ…`
> - κΈ°λ¥μ μ§‘ν•© (= μ¤νΌλ μ΄μ…μ μ§‘ν•©) = `[2] μΈν„°νμ΄μ¤` = κΈ°λ¥ λ…μ„Έμ„
> - `[3] ν΄λμ¤` = κΈ°λ¥ κµ¬ν„
> - λ‹¤λ¥Έ κ°μ²΄μ— μ¤νΌλ μ΄μ… μ‹¤ν–‰μ„ μ”μ²­ = `[4] "λ©”μ‹μ§€`λ¥Ό λ³΄λ‚Έλ‹¤"

</br>

### [1] μ¤νΌλ μ΄μ…

- κ°μ²΄μ `κΈ°λ¥` 
- c#/java, `λ©”μ¨λ“`μ— λ€μ‘
- 3κ°€μ§€ κµ¬μ„± μ”μ†  
 (1) λ©”μ¨λ“λ…  
 (2) νλΌλ―Έν„° λ° νλΌλ―Έν„° νƒ€μ…  
 (3) λ¦¬ν„΄κ°’   
  => `μ‹κ·Έλ‹μ²(;Signature)`  
 
- μ¤νΌλ μ΄μ… μμ‹
```text 
ex. connection.conf νμΌμ—μ„ "mssql:ACCT"λΌλ” μ»¤λ„¥μ… μ•„μ΄λ””μ— ν•΄λ‹Ήν•λ” `μ—°κ²° λ¬Έμμ—΄μ„ μ½μ–΄μ¨ ν›„`
μ—°κ²° λ¬Έμμ—΄ μ¤‘ passwordλ¥Ό `λ³µνΈν™”`ν•κ³ 
λ³µνΈν™”λ μ—°κ²°λ¬Έμμ—΄λ΅ `DBμ„λ²„μ— μ—°κ²°`ν•λ‹¤.
```  
  
π“ νμΌ μ½κΈ° κ°μ²΄ <br/> 

|μ¤νΌλ μ΄μ…λ…|νλΌλ―Έν„°|κ²°κ³Ό|
|---|---|---|
|ReadConnectionConfig()|μ»¤λ„¥μ… μ•„μ΄λ””|λ³µνΈν™”λ μ—°κ²° λ¬Έμμ—΄|

π“ μ•”νΈν™” μ²λ¦¬ κ°μ²΄ <br/> 

|μ¤νΌλ μ΄μ…λ…|νλΌλ―Έν„°|κ²°κ³Ό|
|---|---|---|
|DecryptConnectionString()|μ•”νΈν™”λ μ—°κ²° λ¬Έμμ—΄|λ³µνΈν™”λ μ—°κ²° λ¬Έμμ—΄|

π“ DBμ„λ²„μ— μ—°κ²°ν•λ” κ°μ²΄ <br/> 

|μ¤νΌλ μ΄μ…λ…|νλΌλ―Έν„°|κ²°κ³Ό|
|---|---|---|
|GetDatabase()|μ»¤λ„¥μ… μ•„μ΄λ””|DB μ—°κ²° κ°μ²΄|  
  
```mermaid
%% Example of sequence diagram
  sequenceDiagram
    Main->>DBμ„λ²„μ— μ—°κ²°ν•λ” κ°μ²΄: GetDatabase("mssql:ACCT")    
    alt 
    DBμ„λ²„μ— μ—°κ²°ν•λ” κ°μ²΄->>νμΌ μ½κΈ° κ°μ²΄: ReadConnectionConfig("mssql:ACCT")
    νμΌ μ½κΈ° κ°μ²΄->>μ•”νΈν™” μ²λ¦¬ κ°μ²΄: DecryptConnectionString(μ•”νΈν™”λ μ—°κ²° λ¬Έμμ—΄)
    μ•”νΈν™” μ²λ¦¬ κ°μ²΄->>νμΌ μ½κΈ° κ°μ²΄: λ³µνΈν™”λ μ—°κ²° λ¬Έμμ—΄
    νμΌ μ½κΈ° κ°μ²΄->>DBμ„λ²„μ— μ—°κ²°ν•λ” κ°μ²΄: λ³µνΈν™”λ μ—°κ²° λ¬Έμμ—΄
    DBμ„λ²„μ— μ—°κ²°ν•λ” κ°μ²΄->>Main: DBμ„λ²„μ— μ—°κ²°λ Connection
    end
```

=> κ°μ²΄λ” μ¤νΌλ μ΄μ…λ“¤λ΅ κµ¬μ„±/μ •μλμ–΄ μκ³ , κ° `μ¤νΌλ μ΄μ…μ€ μμ‹ λ§μ signatureλ¥Ό κ°–λ”λ‹¤.`   
=> κ°μ²΄μ μ¤νΌλ μ΄μ…μ„ μ‚¬μ©ν•λ ¤λ©΄, ν•΄λ‹Ή κΈ°λ¥μ `signatureλ¥Ό μ•μ•„μ•Ό` ν•λ‹¤. 

</br></br>

### [2] μΈν„°νμ΄μ¤

- μ¤νΌλ μ΄μ… μ§‘ν•©
- κ°μ²΄κ°€ μ κ³µν•λ” **μ¤νΌλ μ΄μ…μ„ μ‚¬μ©ν•κΈ° μ„ν• λ…μ„Έμ„**

</br></br>

### [3] ν΄λμ¤
- μ¤νΌλ μ΄μ…μ„ κµ¬ν„
- p.34 *"μΈν„°νμ΄μ¤λ” κ°μ²΄κ°€ μ κ³µν•λ” κΈ°λ¥μ— λ€ν• λ…μ„Έμ„μΌ λΏ, μ‹¤μ  κΈ°λ¥μ„ κµ¬ν„ν•λ” κ²ƒμ€ ν΄λμ¤μ΄λ‹¤."*

</br></br>

### [4] λ©”μ‹μ§€ 
- λ‹¤λ¥Έ κ°μ²΄μ— μ¤νΌλ μ΄μ… μ‹¤ν–‰μ„ μ”μ²­ν•λ‹¤. = `λ©”μ‹μ§€λ¥Ό λ³΄λ‚Έλ‹¤.`
- c#κ³Ό κ°™μ€ μ–Έμ–΄μ—μ„λ” λ©”μ¨λ“ νΈμ¶μ„ μλ―Έ   

[Click](#μ¤νΌλ μ΄μ…-μμ‹)   
  
